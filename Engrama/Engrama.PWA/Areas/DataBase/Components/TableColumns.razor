@using Engrama.PWA.Shared.Common
@inherits EngramaComponent
@using Engrama.Share.Objetos;
@using Engrama.Share.Objetos.DataBaseArea;

<MudGrid>
	<MudItem sm="12">

		<MudTable Items="@Columns"
				  T="Column"
				  Dense="@true"
				  Hover="true"
				  RowsPerPage="15"
				  Filter="new Func<Column,bool>(FilterFunc1)">

			<ToolBarContent>
				<MudText Typo="Typo.h6">Columns</MudText>
				<MudSpacer />
				<MudTextField @bind-Value="searchStringFilto"
							  Placeholder="Search..."
							  Adornment="Adornment.Start"
							  AdornmentIcon="@Icons.Material.Filled.Search"
							  IconSize="Size.Medium"
							  Class="mt-0" />
			</ToolBarContent>

			<HeaderContent>
				<MudTh>Name</MudTh>
				<MudTh>DataType</MudTh>
				<MudTh>Size(Bites)</MudTh>


			</HeaderContent>
			<RowTemplate>
				<MudTd DataLabel="vchNombre">@context.vchName</MudTd>
				<MudTd DataLabel="vchTipoDato">@context.vchDataType</MudTd>
				<MudTd DataLabel="iMaxBites">@context.iMaxBites</MudTd>
			</RowTemplate>
			<PagerContent>
				<MudTablePager />
			</PagerContent>
		</MudTable>


	</MudItem>


</MudGrid>

@code {
	[Parameter] public List<Column> Columns { get; set; }


	private string searchStringFilto = "";

	private bool FilterFunc1(Column element) => FilterFunc(element, searchStringFilto);

	private bool FilterFunc(Column element, string searchString)
	{
		if (string.IsNullOrWhiteSpace(searchString))
			return true;
		if (element.vchName.Contains(searchString, StringComparison.OrdinalIgnoreCase))
			return true;


		return false;
	}
}

